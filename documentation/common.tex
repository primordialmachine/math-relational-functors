% Copyright (c) 2018 Michael Heilmann. All rights reserved.

\usepackage[utf8]{inputenc}
\usepackage{textcomp} % for \textlangle and \textrangle macros
\usepackage{xcolor}
%
\usepackage{datetime}
%
\usepackage{tabularx} % for tabularx environment
\usepackage{multirow}
%
\usepackage{lmodern}
\usepackage{microtype}
%
\usepackage{graphicx}
\usepackage[colorlinks]{hyperref}
\usepackage[margin=0.75in]{geometry}
\usepackage{amsmath,amssymb,amsfonts}

\makeatletter

% "(Get|Set)Author".
% The name of the author.
\def\SetAuthor#1{\gdef\@author{#1}}
\def\@author{\@latex@warning@no@line{No author given}}
\def\GetAuthor{\@author}

% "(Get|Set)Email".
% The email (address) of the author.
\def\SetEmail#1{\gdef\@email{#1}}
\def\@email{\@latex@warning@no@line{No email given}}
\def\GetEmail{\@email}

% "(Get|Set)Organization".
% The organization the library is published by.
\def\SetOrganization#1{\gdef\@organization{#1}}
\def\@organization{\@latex@warning@no@line{No organization given}}
\def\GetOrganization{\@organization}

% "(Get|Set)LibraryName".
% The name of the library.
\def\SetLibraryName#1{\gdef\@libraryName{#1}}
\def\@libraryName{\@latex@warning@no@line{No library name given}}
\def\GetLibraryName{\@libraryName}

% "(Get|Set)LibraryVersion".
% The version of the library.
\def\SetLibraryVersion#1{\gdef\@libraryVersion{#1}}
\def\@libraryVersion{\@latex@warning@no@line{No library version given}}
\def\GetLibraryVersion{\@libraryVersion}

% "(Get|Set)LibraryRepository".
% The repository (url) of the library.
\def\SetLibraryRepository#1{\gdef\@libraryRepository{#1}}
\def\@libraryRepository{\@latex@warning@no@line{No library repository given}}
\def\GetLibraryRepository{\@libraryRepository}

% "(Get|Set)DocumentType".
% The document type of this document.
\def\SetDocumentType#1{\gdef\@documentType{#1}}
\def\@documentType{\@latex@warning@no@line{No document type given}}
\def\GetDocumentType{\@documentType}

\let\tableofcontentsORIG\tableofcontents
\renewcommand\tableofcontents{\tableofcontentsORIG}

% Define "maketitle".
\def\maketitle{%
  \thispagestyle{empty}
  \begin{centering}

  \vspace*{6.0\baselineskip} % White space at the top of the page

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  % TITLE
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} % Thick horizontal rule
  \rule{\textwidth}{0.4pt} % Thin horizontal rule

  \vspace{0.75\baselineskip} % Whitespace above the title

  {\normalsize\uppercase{\GetOrganization{}}}\\
  \vspace{1\baselineskip} % For some reason the lines are overlapping.
  {\LARGE\uppercase{\GetLibraryName} \uppercase{\GetLibraryVersion}}

  \vspace{0.75\baselineskip} % Whitespace below the title

  \rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt} % Thin horizontal rule
  \rule{\textwidth}{1.6pt} % Thick horizontal rule

  \vspace{2\baselineskip} % Whitespace after the title block

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  % SUBTITLE
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \vspace{2\baselineskip} % Whitespace after the title block

  \GetDocumentType % Subtitle or further description

  \vspace*{3\baselineskip} % Whitespace under the subtitle

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  % EDITORS
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \vspace*{1\baselineskip} % Whitespace before editors

  Edited By

  \vspace{0.5\baselineskip} % Whitespace before the editors

  {\scshape\Large \GetAuthor \\
  {\normalsize(\href{mailto:\GetEmail}{\GetEmail})} \\} % Editor list

  \end{centering}

  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  % Footer
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \vspace*{\fill} % Whitespace before the editors
  \begin{tabularx}{\columnwidth}{m{0.75cm}m{4.75cm}X}
  \multirow{2}{=}{\includegraphics[scale=0.05]{primordialmachine-135x135.png}} & Primordial Machine                                                  & \hfill Created with \LaTeX\\
                                                                               & \href{https://primordialmachine.com}{https://primordialmachine.com} & \hfill Compiled on \today\ at \currenttime
  \end{tabularx}
}

\makeatother
